///--------------------------------------------------------------------------------------------------------------------------------------------------
/// Author: Andrew Chase
/// Date Created: Jan 21st, 2022
/// Description: 
///--------------------------------------------------------------------------------------------------------------------------------------------------
#pragma once

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// INCLUDES
///--------------------------------------------------------------------------------------------------------------------------------------------------
#include "Engine/Math/IntVector2.h"
#include "Engine/Render/Renderable.h"
#include <map>

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// DEFINES
///--------------------------------------------------------------------------------------------------------------------------------------------------

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// ENUMS, TYPEDEFS, STRUCTS, FORWARD DECLARATIONS
///--------------------------------------------------------------------------------------------------------------------------------------------------
class Chunk;
class RenderScene;

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// GLOBALS AND STATICS
///--------------------------------------------------------------------------------------------------------------------------------------------------

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// CLASS DECLARATIONS
///--------------------------------------------------------------------------------------------------------------------------------------------------

//-------------------------------------------------------------------------------------------------
class World
{
public:
	//-----Public Methods-----

	World();
	~World();

	void Initialize();

	void ProcessInput();
	void Update(float deltaSeconds);

	RenderScene* GetRenderScene() const { return m_renderScene; }


private:
	//-----Private Methods-----

	void CheckToActivateChunks();
	void CheckToDeactivateChunks();

	void AddChunkToActiveList(Chunk* chunk);


private:
	//-----Private Data-----

	// Chunks
	std::map<IntVector3, Chunk*>	m_activeChunks;

	// Rendering
	RenderScene*					m_renderScene = nullptr;

	// Static constants
	static constexpr int			SEA_LEVEL = 12;
	static constexpr int			BASE_ELEVATION = 16;
	static constexpr int			NOISE_MAX_DEVIATION_FROM_BASE_ELEVATION = 10;

};

///--------------------------------------------------------------------------------------------------------------------------------------------------
/// C FUNCTIONS
///--------------------------------------------------------------------------------------------------------------------------------------------------